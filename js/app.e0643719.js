(function(){"use strict";var e={7906:function(e,o,t){var a=t(9242),r=t(3396),n=t(7139);const l={id:"app",class:"container"},i={key:0,class:"acknowledgment-message"},s={key:1,class:"modal"},u={class:"modal-content"},d=(0,r._)("h2",null,"Disclaimer for PLD-Progression Grouper",-1),c=["innerHTML"],p={class:"header"},g=(0,r._)("img",{src:"logo.webp",alt:"PLD-Progression Grouper Logo",class:"app-logo"},null,-1),h={class:"app-title"},v={class:"app-version"},f={key:0,class:"app-commit"},m={key:1,class:"offline-indicator"},_={class:"content"},w={key:0,class:"id-warning-message"},b={key:1,class:"controls"},y={class:"input-group"},k=(0,r._)("label",{for:"idInput"},"ID:",-1),C={class:"input-group"},A=(0,r._)("label",{for:"ageInput"},"Age [y]:",-1),D={key:0,class:"validation-message"},P={class:"input-group"},G=(0,r._)("label",{for:"liverInput"},"Total Liver Volume (TLV) [ml] :",-1),L={key:1,class:"validation-message"},I={key:2,class:"input-group"},T=(0,r._)("label",{for:"groupInput"},"Group:",-1),M={key:3,class:"input-group"},x=(0,r._)("label",{for:"groupColorInput"},"Group Color:",-1),H={class:"input-group output-group"},N=(0,r._)("label",{for:"normalizedTLV"},"Normalized Total Liver Volume (nTLV):",-1),R={class:"output-fields"},V={id:"normalizedTLV",class:"output-field"},F=["disabled"],E=["disabled"],O=["disabled"],S=["disabled"],q={class:"chart-container"},U={ref:"chartCanvas"},z=(0,r._)("div",{class:"progression-groups"},[(0,r._)("div",{class:"progression-group PG3"},[(0,r._)("strong",null,"PG3"),(0,r._)("br"),(0,r.Uk)(">6.6%/y ")]),(0,r._)("div",{class:"progression-group PG2"},[(0,r._)("strong",null,"PG2"),(0,r._)("br"),(0,r.Uk)("3.3-6.6%/y ")]),(0,r._)("div",{class:"progression-group PG1"},[(0,r._)("strong",null,"PG1"),(0,r._)("br"),(0,r.Uk)("<3.3%/y ")])],-1),X={key:2,class:"data-points-table-container"},j={class:"data-points-table"},W=(0,r._)("th",null,"ID",-1),B=(0,r._)("th",null,"Age [y]",-1),J=(0,r._)("th",null,"TLV [ml]",-1),$=(0,r._)("th",null,"nTLV",-1),Y=(0,r._)("th",null,"PG",-1),K=(0,r._)("th",null,"LGR [%/y]",-1),Z={key:0},Q={key:1},ee=(0,r._)("th",null,"Remove",-1),oe={key:0},te=["onUpdate:modelValue","onChange"],ae={key:1},re=["onUpdate:modelValue","onChange"],ne=["onClick"],le={key:3},ie=(0,r._)("p",null,[(0,r.Uk)(" For a detailed documentation of this tool and the methodology, please refer to the "),(0,r._)("a",{href:"https://github.com/halbritter-lab/pld-progression-grouper",target:"_blank"},"GitHub README"),(0,r.Uk)(". Let us know if you like this tool and how we can improve it using our "),(0,r._)("a",{href:"https://docs.google.com/forms/d/1MM4g1Ukjiy73ThWUMHARDcyQg-PwOWuI46kQV5HwXmY",target:"_blank"},"Feedback Form"),(0,r.Uk)(". ")],-1),se=[ie],ue={key:4},de=(0,r._)("p",null,[(0,r.Uk)(" Please cite the following publication for this tool: "),(0,r._)("br"),(0,r.Uk)(" For ADPKD: "),(0,r._)("a",{href:"https://pubmed.ncbi.nlm.nih.gov/36246085/",target:"_blank"}," Sierks D, et al. Modelling polycystic liver disease progression using age-adjusted liver volumes and targeted mutational analysis. JHEP Rep. 2022. "),(0,r.Uk)(),(0,r._)("br"),(0,r.Uk)(" For ADPLD: "),(0,r._)("a",{href:"https://www.gastrojournal.org/article/S0016-5085(23)05603-2/fulltext",target:"_blank"}," SchÃ¶nauer R. & Sierks D, et al. Sex, genotype, and liver volume progression as risk of hospitalization determinants in autosomal dominant polycystic liver disease. Gastroenterology. 2023. ")],-1),ce=[de],pe={key:2,class:"footer"},ge=["href"],he=["src","alt"];function ve(e,o,t,ie,de,ve){return(0,r.wg)(),(0,r.iD)("div",l,[ie.disclaimerAcknowledged&&!ie.showModal?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("button",{onClick:o[0]||(o[0]=(...e)=>ie.reopenModal&&ie.reopenModal(...e))}," Disclaimer "),(0,r.Uk)(" acknowledged on this device at: "+(0,n.zw)(ie.acknowledgmentTime)+". ",1)])):(0,r.kq)("",!0),ie.showModal?((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",u,[d,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.disclaimerSections,((e,o)=>((0,r.wg)(),(0,r.iD)("section",{key:o},[(0,r._)("h3",null,(0,n.zw)(e.title),1),(0,r._)("p",{innerHTML:e.content},null,8,c)])))),128)),(0,r._)("button",{onClick:o[1]||(o[1]=(...e)=>ie.closeModal&&ie.closeModal(...e))}," I Acknowledge ")])])):(0,r.kq)("",!0),(0,r._)("div",p,[g,(0,r._)("h1",h,[(0,r.Uk)(" PLD-Progression Grouper "),(0,r._)("span",v,"v"+(0,n.zw)(ie.version)+"-",1),ie.fetchError?((0,r.wg)(),(0,r.iD)("span",m,"offline")):((0,r.wg)(),(0,r.iD)("span",f,(0,n.zw)(ie.lastCommitHash),1))])]),(0,r._)("div",_,[ie.idWarningMessage?((0,r.wg)(),(0,r.iD)("div",w,(0,n.zw)(ie.idWarningMessage),1)):(0,r.kq)("",!0),ie.showControls?((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",y,[k,(0,r.wy)((0,r._)("input",{id:"idInput","onUpdate:modelValue":o[2]||(o[2]=e=>ie.patientId=e),type:"text",placeholder:"Enter ID"},null,512),[[a.nr,ie.patientId]])]),(0,r._)("div",C,[A,(0,r.wy)((0,r._)("input",{id:"ageInput","onUpdate:modelValue":o[3]||(o[3]=e=>ie.age=e),type:"number",placeholder:"20-80"},null,512),[[a.nr,ie.age]])]),ie.ageValidationMessage?((0,r.wg)(),(0,r.iD)("div",D,(0,n.zw)(ie.ageValidationMessage),1)):(0,r.kq)("",!0),(0,r._)("div",P,[G,(0,r.wy)((0,r._)("input",{id:"liverInput","onUpdate:modelValue":o[4]||(o[4]=e=>ie.totalLiverVolume=e),type:"number",placeholder:"0-20000"},null,512),[[a.nr,ie.totalLiverVolume]])]),ie.tlvValidationMessage?((0,r.wg)(),(0,r.iD)("div",L,(0,n.zw)(ie.tlvValidationMessage),1)):(0,r.kq)("",!0),(0,r._)("button",{onClick:o[5]||(o[5]=(...e)=>ie.toggleGrouping&&ie.toggleGrouping(...e))},(0,n.zw)(ie.enableGrouping?"Disable Grouping":"Enable Grouping"),1),ie.enableGrouping?((0,r.wg)(),(0,r.iD)("div",I,[T,(0,r.wy)((0,r._)("input",{id:"groupInput","onUpdate:modelValue":o[6]||(o[6]=e=>ie.group=e),type:"text",placeholder:"Enter group name"},null,512),[[a.nr,ie.group]])])):(0,r.kq)("",!0),ie.enableGrouping?((0,r.wg)(),(0,r.iD)("div",M,[x,(0,r.wy)((0,r._)("input",{id:"groupColorInput","onUpdate:modelValue":o[7]||(o[7]=e=>ie.groupColor=e),type:"text",placeholder:"e.g. #000000"},null,512),[[a.nr,ie.groupColor]])])):(0,r.kq)("",!0),(0,r._)("div",H,[N,(0,r._)("div",R,[(0,r._)("output",V,(0,n.zw)(ie.formattedNormalizedTLV),1),(0,r._)("output",{id:"progressionGroupOutput",class:(0,n.C_)(`progression-group-output ${ie.progressionGroup}`)},(0,n.zw)(ie.progressionGroup),3),(0,r._)("output",{id:"liverGrowthRateOutput",class:(0,n.C_)(`progression-group-output ${ie.progressionGroup}`)},(0,n.zw)(null!==ie.liverGrowthRate?ie.liverGrowthRate.toFixed(2)+" %/y (LGR)":""),3)])]),(0,r._)("button",{class:(0,n.C_)(["plot-point",{"button-disabled":ie.isInvalidInput}]),disabled:ie.isInvalidInput,onClick:o[8]||(o[8]=(...e)=>ie.addDataPoint&&ie.addDataPoint(...e))}," Plot Data ",10,F),(0,r._)("button",{onClick:o[9]||(o[9]=(...e)=>ie.printPage&&ie.printPage(...e))}," Print Page "),(0,r._)("button",{disabled:0===ie.dataPoints.length,onClick:o[10]||(o[10]=(...e)=>ie.downloadChart&&ie.downloadChart(...e))}," Download Plot ",8,E),(0,r._)("button",{disabled:0===ie.dataPoints.length,onClick:o[11]||(o[11]=(...e)=>ie.saveDataAsJson&&ie.saveDataAsJson(...e))}," Save ",8,O),(0,r._)("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:o[12]||(o[12]=(...e)=>ie.handleFileUpload&&ie.handleFileUpload(...e))},null,544),(0,r._)("button",{onClick:o[13]||(o[13]=(...e)=>ie.triggerFileInput&&ie.triggerFileInput(...e))}," Load "),(0,r._)("button",{disabled:0===ie.dataPoints.length,onClick:o[14]||(o[14]=(...e)=>ie.downloadDataAsExcel&&ie.downloadDataAsExcel(...e))}," Download (Excel) ",8,S)])):(0,r.kq)("",!0),(0,r._)("div",q,[(0,r._)("canvas",U,null,512)]),z,ie.dataPoints.length>0?((0,r.wg)(),(0,r.iD)("div",X,[(0,r._)("table",j,[(0,r._)("thead",null,[(0,r._)("tr",null,[W,B,J,$,Y,K,ie.enableGrouping?((0,r.wg)(),(0,r.iD)("th",Z," Group ")):(0,r.kq)("",!0),ie.enableGrouping?((0,r.wg)(),(0,r.iD)("th",Q," Color ")):(0,r.kq)("",!0),ee])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(ie.dataPoints,((e,o)=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,n.zw)(e.id),1),(0,r._)("td",null,(0,n.zw)(e.age),1),(0,r._)("td",null,(0,n.zw)(e.tlv),1),(0,r._)("td",null,(0,n.zw)(e.ntlv),1),(0,r._)("td",null,(0,n.zw)(e.pg),1),(0,r._)("td",null,(0,n.zw)(e.lgr),1),ie.enableGrouping?((0,r.wg)(),(0,r.iD)("td",oe,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o=>e.group=o,placeholder:"Group",onChange:e=>ie.updateChartPoint(o)},null,40,te),[[a.nr,e.group]])])):(0,r.kq)("",!0),ie.enableGrouping?((0,r.wg)(),(0,r.iD)("td",ae,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o=>e.groupColor=o,placeholder:"Color",onChange:e=>ie.updateChartPoint(o)},null,40,re),[[a.nr,e.groupColor]])])):(0,r.kq)("",!0),(0,r._)("td",null,[(0,r._)("button",{onClick:e=>ie.removeDataPoint(o)}," - ",8,ne)])])))),128))])])])):(0,r.kq)("",!0),ie.showDocumentation?((0,r.wg)(),(0,r.iD)("div",le,se)):(0,r.kq)("",!0),ie.showCitation?((0,r.wg)(),(0,r.iD)("div",ue,ce)):(0,r.kq)("",!0)]),ie.showFooter?((0,r.wg)(),(0,r.iD)("footer",pe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.footerLinks,(e=>((0,r.wg)(),(0,r.iD)("a",{key:e.name,href:e.url,target:"_blank"},[(0,r._)("img",{src:e.img,alt:e.alt,class:"institution-logo"},null,8,he)],8,ge)))),128))])):(0,r.kq)("",!0)])}t(560),t(4224),t(1121),t(7133);var fe=t(4870),me=t(2483),_e=t(9646),we=t(7092),be={i8:"0.10.0"};const ye={MODAL_MAX_WIDTH:"500px",MODAL_MAX_HEIGHT:"90%",CHART_X_AXIS_MIN:20,CHART_X_AXIS_MAX:80,CHART_Y_AXIS_MAX:25,AGE_INI:20,AGE_MIN:21,AGE_MAX:80,TLV_MIN:0,TLV_MAX:2e4,NORMALIZATION_FACTOR:850};var ke={data(){return{disclaimerSections:[{title:"Important Information for All Users",content:"The PLD-Progression Grouper application is intended for informational, educational, and research purposes only and should not be used as a substitute for professional medical advice or for direct diagnostic use. The tool is designed to provide insights into Polycystic Liver Disease (PLD) progression but is not meant to replace clinical decision-making or genetic consultation."},{title:"Usage Guidelines",content:"The information provided by this application is not intended for medical diagnosis or treatment decisions without the oversight of qualified healthcare professionals. Users are advised not to base any health-related decisions solely on the results obtained from this application. The data and information presented are provided without any warranty of accuracy, completeness, or usefulness. Users should exercise their own judgment in the interpretation and use of the information."},{title:"Liability and Risk",content:"The application is provided 'as is,' without any guarantees or obligations for support, updates, or accuracy. Under no circumstances shall the creators or affiliates of the PLD-Progression Grouper be liable for any direct, indirect, incidental, or consequential damages arising from the use of the application."},{title:"Contact and Queries",content:"For medical relevance of the application's content, please consult with a healthcare professional. For inquiries or feedback regarding the application, please contact <a href='mailto:info@pld-progression-grouper.org'>info@pld-progression-grouper.org</a>."},{title:"Acknowledgment and Consent",content:"By using the PLD-Progression Grouper, you acknowledge having read, understood, and agreed to the terms stated in this disclaimer. If you do not agree to these terms, you should not use the application."}]}}},Ce={data(){return{footerLinks:[{name:"CeRKiD",url:"https://nephrologie-intensivmedizin.charite.de/fuer_patienten/cerkid//",img:"CeRKiD_175x130.jpg",alt:"CeRKiD Logo"},{name:"DFG",url:"https://www.dfg.de/en/",img:"dfg_logo_schriftzug_schwarz_foerderung_en.gif",alt:"DFG Logo"}]}}};const Ae={calculatePG3Threshold:e=>.2671*Math.exp(.066*e),calculatePG2Threshold:e=>.5169*Math.exp(.033*e),generateLineData1:(e,o)=>Array.from({length:e},((e,t)=>{const a=o+t;return{x:a,y:Ae.calculatePG3Threshold(a)}})),generateLineData2:(e,o)=>Array.from({length:e},((e,t)=>{const a=o+t;return{x:a,y:Ae.calculatePG2Threshold(a)}})),calculateLiverGrowthRate:(e,o)=>e>20?100*Math.log(o)/(e-20):null};_e.kL.register(..._e.zX);var De={mixins:[ke,Ce],setup(){const e=(0,me.tv)(),o=(0,me.yj)(),t=be.i8,a=(0,fe.iH)("loading..."),n=(0,fe.iH)(!1),l=(0,fe.iH)(!0),i=(0,fe.iH)(!0),s=(0,fe.iH)(!0),u=(0,fe.iH)(!0),d=async()=>{await e.isReady(),"true"===o.query.acknowledgeBanner&&(m.value=!1),o.query.patientId&&(b.value=o.query.patientId),o.query.age&&(y.value=o.query.age),o.query.tlv&&(k.value=o.query.tlv),o.query.patientId&&o.query.age&&o.query.tlv&&H(),l.value="false"!==o.query.showFooter,i.value="false"!==o.query.showCitation,s.value="false"!==o.query.showDocumentation,u.value="false"!==o.query.showControls},c=async()=>{try{const e=await fetch("https://api.github.com/repos/halbritter-lab/pld-progression-grouper/commits?per_page=1");if(!e.ok)throw new Error("Network response was not ok.");const o=await e.json();o.length&&(a.value=o[0].sha.substring(0,7))}catch(e){console.error("Error fetching last commit:",e),n.value=!0,a.value="offline"}},p=(0,fe.iH)(""),g=(0,fe.iH)(""),h=(0,fe.iH)(""),v=(0,fe.iH)("true"===localStorage.getItem("disclaimerAcknowledged")),f=(0,fe.iH)(localStorage.getItem("acknowledgmentTime")),m=(0,fe.iH)(!v.value),_=()=>{const e=(new Date).toLocaleString();m.value=!1,v.value=!0,f.value=e,localStorage.setItem("disclaimerAcknowledged","true"),localStorage.setItem("acknowledgmentTime",e)},w=()=>{m.value=!0},b=(0,fe.iH)(""),y=(0,fe.iH)(ye.AGE_MIN),k=(0,fe.iH)(ye.TLV_MIN),C=(0,fe.iH)(null);let A=null;const D=(0,fe.iH)(!1),P=(0,fe.iH)(""),G=(0,fe.iH)(""),L=(0,r.Fl)((()=>k.value/ye.NORMALIZATION_FACTOR)),I=(0,r.Fl)((()=>y.value<ye.AGE_MIN||y.value>ye.AGE_MAX||k.value<ye.TLV_MIN||k.value>ye.TLV_MAX?null:(k.value/ye.NORMALIZATION_FACTOR).toFixed(3))),T=(0,r.Fl)((()=>{if(y.value<ye.AGE_MIN||y.value>ye.AGE_MAX||k.value<ye.TLV_MIN||k.value>ye.TLV_MAX)return null;const e=L.value,o=y.value;return e>Ae.calculatePG3Threshold(o)?"PG3":e>Ae.calculatePG2Threshold(o)&&e<=Ae.calculatePG3Threshold(o)?"PG2":"PG1"})),M=(0,r.Fl)((()=>y.value<ye.AGE_MIN||y.value>ye.AGE_MAX||k.value<ye.TLV_MIN||k.value>ye.TLV_MAX?null:Ae.calculateLiverGrowthRate(y.value,L.value))),x=(0,fe.iH)([]),H=()=>{if(R.value)return void(p.value="Please correct the errors before plotting.");if(!b.value.trim())return void(p.value="Please enter an ID before plotting a point.");const e={id:b.value,age:y.value,tlv:k.value,ntlv:I.value,pg:T.value,lgr:null!==M.value?M.value.toFixed(2):"N/A",group:D.value?P.value:"",groupColor:D.value?G.value:null};D.value&&G.value&&(e.backgroundColor=G.value),x.value.push(e),A.data.datasets[0].data.push({x:e.age,y:L.value,id:e.id,group:e.group,groupColor:e.groupColor,backgroundColor:e.backgroundColor}),A.update(),p.value=""},N=()=>{g.value="",h.value="",(y.value<ye.AGE_MIN||y.value>ye.AGE_MAX)&&(g.value=`Age must be between ${ye.AGE_MIN} and ${ye.AGE_MAX} years.`),(k.value<ye.TLV_MIN||k.value>ye.TLV_MAX)&&(h.value=`Total Liver Volume must be between 0 and ${ye.TLV_MAX} ml.`)},R=(0,r.Fl)((()=>""!==g.value||""!==h.value));(0,r.YP)(y,N),(0,r.YP)(k,N);const V=e=>{x.value.splice(e,1),A&&A.data.datasets.length>0&&(A.data.datasets[0].data.splice(e,1),A.update())},F=()=>{A&&A.resize()},E=()=>{const e=C.value.getContext("2d"),o=Ae.generateLineData1(61,20),t=Ae.generateLineData2(61,20);A=new _e.kL(e,{type:"scatter",data:{datasets:[{label:"Age vs Normalized Liver Volume",data:[],backgroundColor:"#180C0C",borderColor:"#180C0C",borderWidth:1,pointRadius:5,pointBackgroundColor:function(e){const o=e.raw;return o&&o.backgroundColor?o.backgroundColor:"#180C0C"}},{label:"Ceiling",data:Array.from({length:61},((e,o)=>({x:20+o,y:25}))),borderColor:"transparent",borderWidth:0,showLine:!0,pointRadius:0,fill:"+1",backgroundColor:"#B2241C33"},{label:"Trend Line 1",data:o,borderColor:"#B2241C",borderWidth:3,showLine:!0,pointRadius:0,fill:"+1",backgroundColor:"#F64C4633"},{label:"Trend Line 2",data:t,borderColor:"#F64C46",borderWidth:2,showLine:!0,pointRadius:0,fill:"origin",backgroundColor:"#FDA3A133"}]},options:{scales:{x:{title:{display:!0,text:"Age (years)"},type:"linear",min:ye.CHART_X_AXIS_MIN,max:ye.CHART_X_AXIS_MAX},y:{title:{display:!0,text:"nTLV"},beginAtZero:!0,max:ye.CHART_Y_AXIS_MAX}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){let o=e.dataset.label||"";o&&(o+=": "),null!==e.parsed.x&&(o+=e.parsed.x),null!==e.parsed.y&&(o+=", "+e.parsed.y.toFixed(2));const t=e.raw;return t&&t.id&&(o+=`; ID: ${t.id}`),o}}}}}})},O=()=>{window.print()},S=()=>{const e=document.createElement("a");e.href=C.value.toDataURL("image/png"),e.download="plot.png",e.click()},q=()=>{const e=JSON.stringify(x.value),o="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`data_${(new Date).toISOString()}.json`,a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download",t),a.click()},U=async e=>{const o=e.target.files[0];if(!o)return;const t=o.name.toLowerCase();"application/json"===o.type||t.endsWith(".json")?z(e):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===o.type||"application/vnd.ms-excel"===o.type||t.endsWith(".xlsx")||t.endsWith(".xls")?X(e):console.error("Unsupported file type.")},z=async e=>{const o=e.target.files[0];if(!o)return;const t=new FileReader;t.onload=e=>{try{const o=JSON.parse(e.target.result);o.forEach((e=>{const o=(e.tlv/ye.NORMALIZATION_FACTOR).toFixed(3);let t=null;t=o>Ae.calculatePG3Threshold(e.age)?"PG3":o>Ae.calculatePG2Threshold(e.age)&&o<=Ae.calculatePG3Threshold(e.age)?"PG2":"PG1";const a=e.age>20?Ae.calculateLiverGrowthRate(e.age,o):null,r={id:e.id,age:e.age,tlv:e.tlv,ntlv:o,pg:t,lgr:null!==a?a.toFixed(2):"N/A",group:e.group||"",groupColor:e.groupColor||null};r.groupColor&&(r.backgroundColor=r.groupColor),x.value.push(r),A.data.datasets[0].data.push({x:r.age,y:parseFloat(o),id:r.id,group:r.group,groupColor:r.groupColor,backgroundColor:r.backgroundColor})})),A.update()}catch(o){console.error("Error loading JSON data:",o)}},t.readAsText(o)},X=async e=>{const o=e.target.files[0];if(!o)return;const t=new FileReader;t.onload=e=>{try{const o=new Uint8Array(e.target.result),t=we.ij(o,{type:"array"}),a=t.SheetNames[0],r=t.Sheets[a],n=we.P6.sheet_to_json(r,{defval:""});n.forEach((e=>{if(!e.id||!e.age||!e.tlv)return;const o=Number(e.age),t=Number(e.tlv);if(isNaN(o)||isNaN(t))return;const a=(t/ye.NORMALIZATION_FACTOR).toFixed(3);let r=null;r=a>Ae.calculatePG3Threshold(o)?"PG3":a>Ae.calculatePG2Threshold(o)&&a<=Ae.calculatePG3Threshold(o)?"PG2":"PG1";const n=o>20?Ae.calculateLiverGrowthRate(o,a):null,l={id:e.id,age:o,tlv:t,ntlv:a,pg:r,lgr:null!==n?n.toFixed(2):"N/A",group:e.group||"",groupColor:e.groupColor||null};l.groupColor&&(l.backgroundColor=l.groupColor),x.value.push(l),A.data.datasets[0].data.push({x:l.age,y:parseFloat(a),id:l.id,group:l.group,groupColor:l.groupColor,backgroundColor:l.backgroundColor})})),A.update()}catch(o){console.error("Error reading Excel data:",o)}},t.readAsArrayBuffer(o)};function j(e,o){let t=document.querySelector(`meta[name="${e}"]`);t?t.setAttribute("content",o):(t=document.createElement("meta"),t.setAttribute("name",e),t.setAttribute("content",o),document.head.appendChild(t))}const W=()=>{const e=we.P6.book_new(),o=we.P6.json_to_sheet(x.value);we.P6.book_append_sheet(e,o,"Data");const t=`Data_${(new Date).toISOString()}.xlsx`;we.NC(e,t)},B=(0,fe.iH)(null),J=()=>{B.value&&B.value.click()},$=e=>{const o=x.value[e],t=A.data.datasets[0].data[e];t.backgroundColor=o.groupColor?o.groupColor:"#180C0C",t.group=o.group,t.groupColor=o.groupColor,A.update()},Y=()=>{D.value=!D.value};return(0,r.bv)((()=>{d(),document.documentElement.style.setProperty("--modal-max-width",ye.MODAL_MAX_WIDTH),document.documentElement.style.setProperty("--modal-max-height",ye.MODAL_MAX_HEIGHT),c(),document.title="PLD-Progression Grouper",j("description","PLD-Progression Grouper is a Vue.js web application, based on extensive research, offering insights into Polycystic Liver Disease (PLD) progression. Developed by Bernt Popp, Ria SchÃ¶nauer, Dana Sierks, and Jan Halbritter, this tool facilitates understanding of PLD for both educational and research purposes."),j("keywords","PLD, Polycystic Liver Disease, Liver Health, Medical Research, Data Visualization, Vue.js, Web Application, Liver Disease Progression, Medical Education, Healthcare Technology"),j("author","Bernt Popp, Ria SchÃ¶nauer, Dana Sierks, Jan Halbritter"),j("creator","Bernt Popp, Ria SchÃ¶nauer, Dana Sierks, Jan Halbritter"),E(),window.addEventListener("resize",F)})),(0,r.Ah)((()=>{window.removeEventListener("resize",F)})),{version:t,lastCommitHash:a,idWarningMessage:p,ageValidationMessage:g,tlvValidationMessage:h,isInvalidInput:R,showModal:m,closeModal:_,acknowledgmentTime:f,disclaimerAcknowledged:v,reopenModal:w,dataPoints:x,patientId:b,age:y,totalLiverVolume:k,normalizedTLV:L,formattedNormalizedTLV:I,progressionGroup:T,liverGrowthRate:M,addDataPoint:H,removeDataPoint:V,chartCanvas:C,printPage:O,downloadChart:S,fileInput:B,triggerFileInput:J,saveDataAsJson:q,handleFileUpload:U,downloadDataAsExcel:W,fetchError:n,showFooter:l,showCitation:i,showDocumentation:s,showControls:u,enableGrouping:D,group:P,groupColor:G,toggleGrouping:Y,updateChartPoint:$}}},Pe=t(89);const Ge=(0,Pe.Z)(De,[["render",ve]]);var Le=Ge;const Ie=[{path:"/",name:"Home",component:Le}],Te=(0,me.p7)({history:(0,me.PO)(),routes:Ie});var Me=Te,xe=t(5431);(0,xe.z)("/pld-progression-grouper/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,a.ri)(Le).use(Me).mount("#app")}},o={};function t(a){var r=o[a];if(void 0!==r)return r.exports;var n=o[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,a,r,n){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],n=e[d][2];for(var i=!0,s=0;s<a.length;s++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[s])}))?a.splice(s--,1):(i=!1,n<l&&(l=n));if(i){e.splice(d--,1);var u=r();void 0!==u&&(o=u)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,r,n]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={143:0};t.O.j=function(o){return 0===e[o]};var o=function(o,a){var r,n,l=a[0],i=a[1],s=a[2],u=0;if(l.some((function(o){return 0!==e[o]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(s)var d=s(t)}for(o&&o(a);u<l.length;u++)n=l[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},a=self["webpackChunkpld_progression_grouper_app"]=self["webpackChunkpld_progression_grouper_app"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(7906)}));a=t.O(a)})();
//# sourceMappingURL=app.e0643719.js.map